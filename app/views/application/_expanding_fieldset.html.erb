  <div class="field">
    <span class="field-label"><%= header %></span>
    <fieldset id=<%= id %> class="expanding-fieldset-container">
      <% if not freeform.blank? %>
	<div class="field">
	  <%= f.label freeform %>
	  <%= f.text_area freeform %>
	</div>
      <% end %>
      <ul class="nested-fields" style="display: <%= (f.object.send(collection).any? ? "table-row" : "none" ) %>;">
        <% if (not header_list.nil?) %>
	  <li class="control-group nested-fields nested-header">
	    <% header_list.each do |header_item| %>
                <span class="controls"><%= f.label header_item %></span>
	    <% end %>
	  </li>
        <% end %>
	<%= f.fields_for collection do |x| %>
	  <%= render partial, f: x %>
	<% end %>
      </ul>
      <% if label.present? %>
        <%= link_to_add_association label, f, collection,
          'data-association-insertion-method' => "append",
          'data-association-insertion-node' => "#" + id + " ul"
        %>
      <% end %>
    </fieldset>
  </div>